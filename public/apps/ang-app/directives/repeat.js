(function(){define(["./module"],function(a){return a.directive("slyRepeat",["$animate","$parse",function(a,b){var c;return c=function(a){return a.scope.$addWatcherGate(function(){return a.isActiveForRepeat})},{restrict:"A",scope:!0,transclude:"element",priority:1e3,terminal:!0,compile:function(b,d,e){return function(b,d,f){var g,h,i,j,k,l,m;i=f.slyRepeat,k=i.match(/^\s*(.+)\s+in\s+(.*?)$/);if(!k)throw Error("Expected slyRepeat in form of '_item_ in _collection_' but got '"+i+"'.");j=k[1],g=k[2],k=j.match(/^(?:([\$\w]+))$/);if(!k)throw Error("'item' in 'item in collection' should be identifier but got '"+lhs+"'.");return m=[],l=[],h=b.$watchCollection(g,function(f){var g,h,i,k,n,o,p,q,r,s;r=m.length,m.length<f.length&&l.length>0&&(o=m.length+l.length,o>f.length&&(o=f.length),m=m.concat(l.splice(0,o-m.length))),h=null,g=[],q=[];if(f.length>m.length){k=m.length;while(k<f.length)p={scope:b.$new(),isActiveForRepeat:!0},c(p),p.scope.$index=k,p.scope.$first=k===0,q.push(p),++k;h=m.concat(q),g=l}else if(f.length<m.length){k=f.length;while(k<m.length)m[k].isActiveForRepeat=!1,++k;g=m.splice(f.length,m.length-f.length).concat(l),h=m}else h=m,g=l;if(h.length>0){i=h.length-1,n=h.length-1,r<h.length&&(i=r),i>0&&(i=i-1),k=i;while(k<=n)h[k].scope.$last=k===h.length-1,h[k].scope.$middle=k!==0&&k!==h.length-1,h[k].isActiveForRepeat||(h[k].isActiveForRepeat=!0,h[k].element.css("display","")),++k}k=0;while(k<g.length){if(g[k].isActiveForRepeat)break;g[k].element.css("display","none"),++k}k=0;while(k<h.length)h[k].scope[j]=f[k],++k;s=d,m.length>0&&(s=m[m.length-1].element),k=0;while(k<q.length)e(q[k].scope,function(b){return a.enter(b,null,s),s=b,q[k].element=b}),++k;return m=h,l=g}),b.$on("$destroy",function(){return h()})}}}}])})}).call(this)